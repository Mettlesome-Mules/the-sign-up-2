<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container" ng-controller='MessagesCtrl'>
    <div class="row">
        <div class="col-md-4">
            <div id="sidebar"> Last Message
                <div class="lastMessageWindow" ng-repeat="message in lastmessages"> Hii
                    {{message.body}}
                    {{message.fromUserName}}
                    {{message.date}}
                    <a ng-click="updateToFriend(message._id)">{{message._id}}</a>
                </div>
                <div class="lastMessage"></div>
            </div>          
        </div>
        <div class="col-md-4">
            <div class="messagesWindow">
                <p class="welcome">Welcome, {{currentUser.name}}</p>
                    <div id="messageContainer" ng-repeat='message in messages'>
               <!-- {{ message.title }} -->
                    {{ message.fromUserName}}
                    <!-- {{ message.fromUserId }} -->
                <!-- {{ message.toUserId }} -->
                    {{ message.body}}
                <!-- {{ message.comments }} -->
                    {{ message.date}}
                    <img src="{{message.fromUserPicUrl}}" style="width: 25px"></img>
            <!--    {{ message.hidden }} -->

                    <hr>
                   </div>
            </div> 
            <div class="chatWrapper">
                <div id="menu">
                    <div style="clear:both"></div>
                </div>
                <form>
                    <input name="usermsg" type="text" id="usermsg" size="63" ng-model="usermsg.body"/>
                    <input name="submitmsg" type="submit" class="btn btn-primary" ng-click="submit()"  id="submit" value="Send"/>
                </form>
            </div>         
        </div>
    </div>

    <div ng-repeat="friend in currentUser.friends"> 
        <a ng-click="updateToFriend(friend)">{{friend}}</a>
    </div>

</div>

